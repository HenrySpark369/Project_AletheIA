<!-- templates/usurpadores/resultados.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Resultados del análisis</title>
</head>
<body>
    <h1>Resultados de Detección de Usurpadores</h1>

    {% if error %}
        <p style="color: red;">Error: {{ error }}</p>
    {% elif resultados %}
        <table border="1">
            <thead>
                <tr>
                    <th>Agente A</th>
                    <th>Agente B</th>
                    <th>Posible Usurpador</th>
                    <th>Score Semántico</th>
                    <th>Score Temas</th>
                    <th>Score Total</th>
                    <th>Fecha</th>
                </tr>
            </thead>
            <tbody>
                {% for r in resultados %}
                <tr>
                    <td>{{ r.agente_a_nombre }}</td>
                    <td>{{ r.agente_b_nombre }}</td>
                    <td>{{ r.posible_usurpador_nombre }}</td>
                    <td>{{ r.score_semantico|round(3) }}</td>
                    <td>{{ r.score_temas|round(3) }}</td>
                    <td>{{ r.score_total|round(3) }}</td>
                    <td>{{ r.fecha_analisis }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>No hay resultados recientes.</p>
    {% endif %}
</body>
</html>